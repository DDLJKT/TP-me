<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>To Rukaiya ‚ù§Ô∏è</title>

		<!-- GSAP and jQuery -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
		<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
		<!-- Confetti library -->
		<script src="https://cdn.jsdelivr.net/npm/js-confetti@latest/dist/js-confetti.browser.js"></script>

		<style>
			* {
				box-sizing: border-box;
				margin: 0;
				padding: 0;
			}

			body,
			html {
				height: 100%;
				width: 100%;
				font-family: "Arial", sans-serif;
				overflow: hidden; /* Prevent scrolling between main pages */
			}

			/* Page containers */
			.main-page {
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				opacity: 1;
				visibility: visible;
				transition: opacity 0.5s ease-in-out, visibility 0.5s ease-in-out;
			}

			.main-page.hidden {
				opacity: 0;
				visibility: hidden;
				pointer-events: none;
			}

			/* Page 1 Styles */
			#page1 {
				background: #000000;
				display: flex;
				align-items: center;
				justify-content: center;
			}

			#video-container {
				position: relative;
				width: 100%;
				height: 100%;
				display: flex;
				align-items: center;
				justify-content: center;
			}

			video.video-background {
				width: 100%;
				height: 100%;
				object-fit: contain;
			}

			#transition-button {
				position: absolute;
				bottom: 50px;
				left: 50%;
				transform: translateX(-50%);
				padding: 15px 30px;
				background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
				color: white;
				border: none;
				border-radius: 50px;
				font-size: 18px;
				cursor: pointer;
				opacity: 0;
				pointer-events: none;
				transition: opacity 1s ease, transform 0.3s ease;
				z-index: 20;
				box-shadow: 0 5px 20px rgba(255, 107, 107, 0.4);
			}

			#transition-button:hover {
				transform: translateX(-50%) scale(1.05);
				box-shadow: 0 8px 30px rgba(255, 107, 107, 0.6);
			}

			/* Page 2 and 3 General Styles */
			.page-container {
				display: flex;
				flex-direction: column;
				align-items: center;
				position: relative;
				background: linear-gradient(135deg, #fff5f5 0%, #ffe0e0 100%);
				height: 100%;
				overflow-y: auto;
				padding: 40px 20px;
			}

			.doctor-icons {
				position: absolute;
				width: 100%;
				height: 100%;
				top: 0;
				left: 0;
				pointer-events: none;
				opacity: 0.1;
				z-index: 1;
			}

			.icon {
				position: absolute;
				font-size: 40px;
				color: #ff6b6b;
			}

			.icon-1 {
				top: 10%;
				left: 10%;
			}
			.icon-2 {
				top: 20%;
				right: 15%;
			}
			.icon-3 {
				bottom: 30%;
				left: 20%;
			}
			.icon-4 {
				bottom: 20%;
				right: 10%;
			}

			.falling-hearts {
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				pointer-events: none;
				z-index: 2;
			}

			.falling-heart {
				position: absolute;
				color: #ff6b6b;
				font-size: 20px;
				animation: fall linear infinite;
				opacity: 0.6;
			}

			@keyframes fall {
				to {
					transform: translateY(100vh) rotate(360deg);
				}
			}

			.tribute-content {
				max-width: 800px;
				width: 100%;
				margin: 0 auto;
				padding: 20px;
				text-align: center;
				position: relative;
				z-index: 3;
			}

			h1 {
				font-size: 2.5em;
				color: #d63031;
				margin-bottom: 30px;
				animation: fadeInUp 1s ease;
			}

			.message {
				background: white;
				padding: 30px;
				border-radius: 20px;
				box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
				margin-bottom: 30px;
				animation: fadeInUp 1s ease 0.3s both;
				position: relative;
			}

			.message p {
				font-size: 1.1em;
				line-height: 1.7;
				color: #2d3436;
				margin-bottom: 20px;
			}

			.heart-pulse {
				font-size: 40px;
				color: #ff6b6b;
				animation: heartPulse 1s ease-in-out infinite;
				margin: 20px 0;
			}

			.signature {
				font-size: 1.2em;
				color: #d63031;
				font-weight: bold;
				margin-top: 30px;
			}

			.next-page-button,
			.submit-button {
				padding: 12px 25px;
				background: linear-gradient(45deg, #74b9ff, #0984e3);
				color: white;
				border: none;
				border-radius: 25px;
				font-size: 16px;
				cursor: pointer;
				transition: all 0.3s ease;
				margin-top: 20px;
			}

			.next-page-button:hover,
			.submit-button:hover {
				transform: scale(1.05);
				box-shadow: 0 5px 20px rgba(116, 185, 255, 0.4);
			}

			.submit-button:disabled {
				background: #ccc;
				cursor: not-allowed;
				transform: none;
				box-shadow: none;
			}

			@keyframes fadeInUp {
				from {
					opacity: 0;
					transform: translateY(30px);
				}
				to {
					opacity: 1;
					transform: translateY(0);
				}
			}

			@keyframes heartPulse {
				0%,
				100% {
					transform: scale(1);
				}
				50% {
					transform: scale(1.1);
				}
			}

			/* Page 3 specific styles */
			.fun-text {
				font-size: 1.3em;
				color: #d63031;
				margin-bottom: 20px;
			}

			.question-container {
				display: none;
			}
			.question-container.active {
				display: block;
			}

			.question {
				font-size: 1.2em;
				color: #2d3436;
				margin-bottom: 20px;
				min-height: 50px;
			}

			input[type="text"] {
				padding: 10px;
				font-size: 1em;
				width: 100%;
				max-width: 400px;
				border: 2px solid #ff6b6b;
				border-radius: 10px;
				margin-bottom: 20px;
			}

			.fill-in-the-blank {
				display: flex;
				align-items: center;
				justify-content: center;
				gap: 10px;
				flex-wrap: wrap;
			}

			.fill-in-the-blank input {
				width: 120px;
				text-align: center;
			}

			#final-reveal {
				display: none;
				text-align: center;
			}

			#final-text {
				font-size: 1.8em;
				color: #d63031;
				font-weight: bold;
				margin-bottom: 30px;
				animation: fadeInUp 1s ease;
			}

			#final-image-container {
				display: none;
			}

			#reveal-image {
				max-width: 100%;
				border-radius: 20px;
				box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
			}

			#image-caption {
				margin-top: 20px;
				font-size: 1.2em;
				color: #2d3436;
				font-style: italic;
			}

			/* Modal styles */
			.modal {
				display: none;
				position: fixed;
				z-index: 1000;
				left: 0;
				top: 0;
				width: 100%;
				height: 100%;
				background-color: rgba(0, 0, 0, 0.5);
				align-items: center;
				justify-content: center;
			}

			.modal-content {
				background: white;
				padding: 20px;
				border-radius: 20px;
				text-align: center;
				width: 90%;
				max-width: 400px;
				box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
				animation: fadeInUp 0.5s;
			}

			.close {
				color: #aaa;
				float: right;
				font-size: 28px;
				font-weight: bold;
				cursor: pointer;
			}

			.close:hover {
				color: black;
			}
		</style>
	</head>
	<body>
		<!-- Page 1: Autoplaying video section -->
		<div id="page1" class="main-page">
			<div id="video-container">
				<video
					class="video-background"
					autoplay
					muted
					playsinline
					preload="auto"
				>
					<source src="Final.mp4" type="video/mp4" />
					Your browser does not support the video tag.
				</video>
				<button id="transition-button" onclick="goToPage('page2')">
					Click for more üíå
				</button>
			</div>
		</div>

		<!-- Page 2: Tribute Content -->
		<div id="page2" class="main-page hidden">
			<div class="page-container">
				<div class="doctor-icons">
					<div class="icon icon-1">ü©∫</div>
					<div class="icon icon-2">‚ù§Ô∏è</div>
					<div class="icon icon-3">‚öïÔ∏è</div>
					<div class="icon icon-4">üíä</div>
				</div>
				<div class="falling-hearts" id="falling-hearts-2"></div>
				<div class="tribute-content">
					<h1>ü©∫ To My Favorite Doctor, Rukaiya</h1>
					<div class="message">
						<p>
							I pray when I hold you or I'm held by you, placed in the crook of
							your neck (like so), and my prayer is the empty space between our
							hearts right before we match and also how creeks sound as they run
							over rocks and how rocks sound when they are thrown into creeks or
							even skipped and how i can imitate that and no one would ever know
							what it was I was pretending to be, or maybe that I became.
						</p>
						<p>
							Ill pray in the mornings as I look for my socks and as l slide
							them onto my feet and look for a second at their different heights
							and I pray in silences that go on too long and fill them with
							energy and it hums and fills the void inside me
						</p>
						<div class="heart-pulse">‚ù§Ô∏è</div>
						<p class="signature">With all my love,<br />Your Gay Musfa ‚ù§Ô∏è</p>
					</div>
					<button class="next-page-button" onclick="goToPage('page3')">
						Click for a question
					</button>
				</div>
			</div>
		</div>

		<!-- Page 3: Question Content -->
		<div id="page3" class="main-page hidden">
			<div class="page-container">
				<div class="doctor-icons">
					<div class="icon icon-1">ü©∫</div>
					<div class="icon icon-2">‚ù§Ô∏è</div>
					<div class="icon icon-3">‚öïÔ∏è</div>
					<div class="icon icon-4">üíä</div>
				</div>
				<div class="falling-hearts" id="falling-hearts-3"></div>
				<div class="tribute-content">
					<div id="quiz-header">
						<h1>ü©∫ A Little Puzzle for You</h1>
					</div>

					<div id="questions-section" class="message">
						<p class="fun-text">
							Hey love, ready for a fun memory challenge? Not a 52yr old
							auntie's memory test, I promise! üòä
						</p>
						<!-- Questions will be dynamically inserted here -->
					</div>

					<div id="final-reveal" class="message">
						<div id="wait-text-container">
							<p id="final-text">Someone cant wait üòà</p>
							<button class="submit-button" onclick="showImage()">
								Click to Reveal
							</button>
						</div>

						<div id="final-image-container">
							<img src="Ghibli.jpeg" alt="Revealed Image" id="reveal-image" />
							<p id="image-caption">
								The only person I'd gladly lose in loving and being super proud
								of u.
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Modal for wrong answer -->
		<div id="wrong-answer-modal" class="modal">
			<div class="modal-content">
				<span class="close" onclick="closeModal()">&times;</span>
				<p>Oops! That's not quite right. Try again! ‚ù§Ô∏è</p>
			</div>
		</div>

		<script>
			const questions = [
				{
					question:
						"Tell me the first thing u associated us with in regards to an experience with Papa.",
					type: "text",
					correctAnswer: ["heels", "heel"],
				},
				{
					question: "How did ur mom first react when u first told her abt me?",
					type: "text",
				},
				{
					question: "The ___ to my ___",
					type: "fill-in",
					parts: ["The", "to my"],
				},
				{
					question: "‚ÄúMay god give me the strength to‚Ä¶. ‚Äú When was this said?",
					type: "text",
				},
				{
					question:
						"What was my fav nickname for u which was also my fav nashta too?",
					type: "text",
				},
				{ question: "Where did we first see each other?", type: "text" },
				{ question: "What did we have the last time we met?", type: "text" },
				{ question: "What is ur favorite flower?", type: "text" },
				{
					question: "How long in days since we've been together?",
					type: "text",
				},
				{
					question:
						"What was the one thing u said to me that changed my entire perception about our relationship?",
					type: "text",
				},
				{ question: "Why does ur mom love me sm?", type: "text" },
				{
					question: "Who do i love more than you?",
					type: "text",
					correctAnswer: "amena ben",
				},
				{ question: "What was my first line to u?", type: "text" },
				{
					question: "What was the video i went bonkers for u on?",
					type: "text",
				},
				{
					question:
						"What song did u put in the video that i watched 1000 times?",
					type: "text",
				},
				{ question: "What was ur first prank to me?", type: "text" },
				{ question: "What was our first disagreement about?", type: "text" },
				{ question: "How amazing of a doctor are u gonna be?", type: "text" },
				{ question: "How proud do u make us all?", type: "text" },
			];

			let currentQuestionIndex = 0;
			const questionsSection = document.getElementById("questions-section");
			const jsConfetti = new JSConfetti();

			function displayQuestion(index) {
				// Fade out the old question
				gsap.to(questionsSection, {
					opacity: 0,
					duration: 0.3,
					onComplete: () => {
						const q = questions[index];
						let inputHtml = "";

						if (q.type === "text") {
							inputHtml = `<input type="text" class="answer-input" placeholder="Your answer here..." oninput="checkInputs()">`;
						} else if (q.type === "fill-in") {
							inputHtml = `<div class="fill-in-the-blank">
                        ${q.parts[0]}
                        <input type="text" class="answer-input" oninput="checkInputs()">
                        ${q.parts[1]}
                        <input type="text" class="answer-input" oninput="checkInputs()">
                    </div>`;
						}

						questionsSection.innerHTML = `
                    <p class="fun-text" style="${
											index > 0 ? "display: none;" : ""
										}">
                        Hey love, ready for a fun memory challenge? Not a 52yr old auntie's memory test, I promise! üòä
                    </p>
                    <div class="question-container active">
                        <p class="question">${index + 1}. ${q.question}</p>
                        ${inputHtml}
                        <button class="submit-button" onclick="checkAnswer()" disabled>Submit</button>
                    </div>
                `;

						// Fade in the new question
						gsap.to(questionsSection, { opacity: 1, duration: 0.3 });
					},
				});
			}

			function checkInputs() {
				const inputs = document.querySelectorAll(".answer-input");
				const allFilled = Array.from(inputs).every(
					(input) => input.value.trim() !== ""
				);
				document.querySelector(".submit-button").disabled = !allFilled;
			}

			function checkAnswer() {
				const q = questions[currentQuestionIndex];
				const inputs = document.querySelectorAll(".answer-input");
				const userAnswer = Array.from(inputs)
					.map((i) => i.value.trim().toLowerCase())
					.join(" ");

				if (q.correctAnswer) {
					const isCorrect = Array.isArray(q.correctAnswer)
						? q.correctAnswer.includes(userAnswer)
						: userAnswer === q.correctAnswer;

					if (!isCorrect) {
						document.getElementById("wrong-answer-modal").style.display =
							"flex";
						return; // Stop if the answer is wrong
					}
				}

				currentQuestionIndex++;
				if (currentQuestionIndex < questions.length) {
					displayQuestion(currentQuestionIndex);
				} else {
					showFinalReveal();
				}
			}

			function showFinalReveal() {
				gsap.to([questionsSection, "#quiz-header"], {
					opacity: 0,
					duration: 0.5,
					onComplete: () => {
						questionsSection.style.display = "none";
						document.getElementById("quiz-header").style.display = "none";
						const finalReveal = document.getElementById("final-reveal");
						finalReveal.style.display = "block";
						gsap.to(finalReveal, { opacity: 1, duration: 0.5 });
						jsConfetti.addConfetti({
							emojis: ["‚ù§Ô∏è", "ü©∫", "‚ú®", "üéâ"],
							confettiNumber: 100,
						});
					},
				});
			}

			function showImage() {
				const waitContainer = document.getElementById("wait-text-container");
				gsap.to(waitContainer, {
					opacity: 0,
					duration: 0.5,
					onComplete: () => {
						waitContainer.style.display = "none";
						const finalImageContainer = document.getElementById(
							"final-image-container"
						);
						finalImageContainer.style.display = "block";

						// Pop effect for the image
						gsap.from("#reveal-image", {
							scale: 0.5,
							opacity: 0,
							duration: 0.8,
							ease: "back.out(1.7)",
						});
						gsap.from("#image-caption", {
							y: 20,
							opacity: 0,
							duration: 0.8,
							delay: 0.5,
						});
					},
				});
			}

			function closeModal() {
				document.getElementById("wrong-answer-modal").style.display = "none";
			}

			// Function to switch between pages
			function goToPage(pageId) {
				document.querySelectorAll(".main-page").forEach((page) => {
					page.classList.add("hidden");
				});
				const targetPage = document.getElementById(pageId);
				targetPage.classList.remove("hidden");

				if (pageId === "page3") {
					displayQuestion(currentQuestionIndex);
				}
			}

			$(document).ready(function () {
				const video = document.querySelector(".video-background");
				video.onended = function () {
					gsap.to("#transition-button", {
						opacity: 1,
						pointerEvents: "auto",
						duration: 1,
					});
				};

				video.play().catch((error) => {
					console.log("Autoplay was prevented:", error);
				});

				createHearts("falling-hearts-2");
				createHearts("falling-hearts-3");
			});

			function createHearts(containerId) {
				const heartsContainer = document.getElementById(containerId);
				if (!heartsContainer) return;
				heartsContainer.innerHTML = "";
				for (let i = 0; i < 20; i++) {
					const heart = document.createElement("div");
					heart.className = "falling-heart";
					heart.innerHTML = "‚ù§Ô∏è";
					heart.style.left = Math.random() * 100 + "%";
					heart.style.animationDuration = Math.random() * 3 + 2 + "s";
					heart.style.animationDelay = Math.random() * 2 + "s";
					heartsContainer.appendChild(heart);
				}
			}
		</script>
	</body>
</html>
